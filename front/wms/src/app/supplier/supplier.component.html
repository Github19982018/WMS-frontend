<h1>Supplier</h1>

<div class="card-container" *ngFor="let i of purchases; ">

    <div class="container">
        <h2>Order: {{i.ref}} Status: {{i.status}}</h2>
        <div *ngIf="showmore == i.ref">
            <h2>Items:</h2>
            <pre>{{i.items | pretty}}</pre>
            <h2>Order:</h2>
            <pre>{{i.purchase | pretty}}</pre>
        </div>
        <div [ngSwitch]="i.status">
                <div class=" card-container">
                    <!-- <button class="card card-small"  tabindex="0" (click)="decline(i.ref)"><svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Decline</span></button> -->
                    <button *ngSwitchCase="'pending'" (click)="approve(i.ref)"><svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                            <span>Approve</span></button>
                    <button *ngSwitchCase="'approved'" (click)="process(i.ref)" class="card card-small"  tabindex="0" ><svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Order Processed</span></button>
                    <button *ngSwitchCase="'order processed'" (click)="readyShip(i.ref)" class="card card-small"  tabindex="0" >
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Ready for shipping</span> </button>
                    <button *ngSwitchCase="'ready for shipping'" (click)="dispatch(i.ref)" class="card card-small"  tabindex="0" >
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Dispatched</span> </button>
                    <button *ngSwitchCase="'dispatched'" (click)="transit(i.ref)" class="card card-small"  tabindex="0" >
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>In transit</span> </button>
                    <button *ngSwitchCase="'in transit'" (click)="deliver(i.ref)" class="card card-small"  tabindex="0" >
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Delivered</span> </button>
                    <button *ngSwitchCase="'delivered'" (click)="pay(i.ref)" class="card card-small"  tabindex="0" >
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span>Payed</span> </button>
                    <button *ngSwitchCase="'payed'" disabled  class="card card-small"  tabindex="0"  >
                        <span>Payed</span> </button>
                    <button class="card card-small"  tabindex="0" *ngSwitchCase="'cancelled'" disabled><span> Cancelled</span></button>
                    <button  *ngIf="showmore!=i.ref" (click)="showmore = i.ref;" class="card card-small"  tabindex="0">
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span class="btn">see details...</span>
                    </button>
                    <button *ngIf="showmore==i.ref" (click)="showmore = 0;" class="card card-small"  tabindex="0">
                        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        <span class="btn" >see less...</span>
                    </button>
                </div>
            </div>
    </div>
</div>