<h1>Purchases</h1>
<div class="container" *ngFor="let i of purchases; ">
    <div class="card-container">

        <div>Order: {{i.ref}} Status: {{i.status}}
        <div [ngSwitch]="i.status_id">
            <div *ngIf="showmore == i.ref;">
                <h2>status: {{i.status}}</h2>
                <h3>order : #{{i.ref}}</h3>
                <h2>Items:</h2>
                <pre>{{i.items | pretty}}</pre>
                <h2>Purchase order:</h2>
                <pre>{{i.purchase | pretty}}</pre>
            </div>
        <button *ngIf="i.status != 'cancelled' or i.status != 'approved'" (click)="approve(i.ref)">Approve</button>
        <button (click)="decline(i.ref)">Decline</button>
        <button *ngIf="showmore!=i.ref" (click)="showmore = i.ref;">see details...</button>
        <button *ngIf="showmore==i.ref" (click)="showmore = 0;">see less details...</button>
        </div>
    </div>
</div>
